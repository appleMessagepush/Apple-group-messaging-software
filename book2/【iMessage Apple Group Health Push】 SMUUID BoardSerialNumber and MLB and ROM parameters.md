# [iMessage Apple Group Health Push] SMUUID BoardSerialNumber and MLB and ROM parameters

For example, Mamshareinc, a company account, allows a variety of developers to cooperate in development, and configure more than one developer to push certificates (divided into development and distribution, the types are APNs Development ios, APNs Distribution ios), the certificate is created and generated in the appID configuration, and is placed on the development computer just like the developer certificate;
It is a PP file. This file binds appID, developer certificate, and hardware Device together. After being configured in the developer center, it can be added to Xcode. It can also be directly generated by connecting to the developer center on Xcode. It is required for real machine debugging. Add the udid of the real machine in the PP file; it is a must-have treasure for debugging and setting up the real machine;

Usually our production process is generally carried out according to the above sequence. First, log in to the developer center with a developer account, create a developer certificate, appID, open the push service in the appID, and create a push certificate (server) on the option to activate the push service. (See below for the push certificate of the terminal). Later, bind all the certificate IDs in the PP file, add the real machine for debugging, etc.;
package zlicense.de.schlichtherle.utils;

The key to transfer

Textual research on tacâ€™s key

  This process is carried out twice, to create a PP file for development and testing and a PP file for release respectively. The former is used for real machine testing and the latter is used for submission for release; the Ad Hoc format is generally used for enterprise accounts, so we are negligent here;

Submit after screening

The matching app ID will be automatically detected. In other drop-down items, you can also select the wildCard format. This format is automatically generated and uses the * wildcard character. It is suitable for batch applications without push, PassCard and other services; we select the app ID we just created. Then select the certificate in the next step;

Create a publishing certificate and check the posting certificate, as shown in Figure 12. Use the above four certificates, 2 description files, and the certificate file download description file to generate a p12 file. Download the graphic in the figure. Four certificates, download the certificate, double-click to enter the application "keychain" is the exported development certificate, the export operation of the three certificates is similar to the entry below, there is no screenshot description.




13. Just use the first development test development certificate and development certificate description document (no push certificate required), but please remember to select the Pushnotification function on the development tool.



14. After publishing, you just need to use the certificate and publish the certificate description file (no publishing required).



15If you use a third-party email push service, you usually need to upload a PEM type file.





This file requires the use of a "Development Push Certificate" and a "Push Delivery Certificate". The operations are as follows: a. Develop and promote the promotion certificate of P12 file, and publish the P12 file certificate, which can be placed directly on the desktop. B. Open the application "Terminal", enter CDDESKTOP, and run the command:


8 Edit button will appear, as shown below: Click "Edit" to enter the following image: If you created the following image in the Trust Certificate (Development, Release) action, you will have the same image as above, and then you will go back. Click on buttons 1 and 2.

10. Create a development certificate description file to select your application, detailing the disadvantages:

11. Create a publication certificate to indicate checking the post certificate, as shown in Figure 12. Use the above four certificates, 2 description files, and certificate file download description files to generate p12 files. Download the graphic in the figure. Four certificates, download the certificate, double-click to enter the application "keychain" is the exported development certificate, the export operation of the three certificates is the same as the import below, there is no screenshot description.

import java.util.Locale;

 

public class CardCenter

{

     public static void main(String[] args)

     {

 

         //The transferred key

         String loadKey = "3F013F013F013F013F013F013F013F01";

         System.out.println("Loaded key:" + loadKey);

         // Verify tac's key

         String tacKey = "34343434343434343434343434343434";

         System.out.println("Verify tac key:" + tacKey);

 

         System.out.println();

 

         // posid

         String posid = "112233445566";

         System.out.println("Terminal ID:" + posid);

         //Buy and sell amount

         String tradeAmount = "00000001";

         System.out.println("Transaction amount:" + tradeAmount);

         // Transaction amount in decimal

         int ta = 1;

         //Trading model

         String tradeType = "02";

         System.out.println("Trade type:" + tradeType);

 

         System.out.println();

         //Precharge command

         System.out.println("Assembly pre-recharge instruction:805000020b0100000001112233445566");

         //Command reply to pre-loss command 805000020b0100000001112233445566

         String preTopup = "0000001a0017000106b825d7684c81ce9000";

         System.out.println("Get pre-recharge response:" + preTopup);

         byte[] recvByte = ByteUtil.hexStr2Byte(preTopup);

 

         //Card balance

         String balance = ByteUtil.hexToStr(recvByte, 0, 4);

         int bal = ByteUtil.hexToInt(recvByte, 0, 4);

         System.out.println("Card balance:" + balance);

 

         //Online counter

         String cardCnt = ByteUtil.hexToStr(recvByte, 4, 2);

         System.out.println("Online counter:" + cardCnt);

 

         //Key version

         String keyVersion = ByteUtil.hexToStr(recvByte, 6, 1);

         System.out.println("Key version:" + keyVersion);

 

         // Algorithm identifier

         String alglndMark = ByteUtil.hexToStr(recvByte, 7, 1);

         System.out.println("Algorithm Mark:" + alglndMark);

After testing, I found that the certificate generation mechanism was updated when the Apple website was offline some time ago. In the past, a CSR file was generated using the keychain and could be used without deactivation. However, now whenever you want to generate a certificate, you need to regenerate a CSR file in advance when doing generate. Otherwise, the certificates you generate will be invalid. Fake certificates, especially PUSH certificates, cannot be used by the server at all. APNS establishes a connection. This weird problem is super difficult to track! I hope everyone who reads this paragraph can avoid taking detours, no thanks!

I also encountered various problems while using PushMeBaby. First of all, although the .cer public key certificate has been used in the project, there must be a certificate with a private key in the local keychain, otherwise the connection cannot be successfully established. And it should be noted that the certificate is best placed in the "Login" group, otherwise the program will not be able to find the private key. Secondly, in the original project, there will be an infinite loop when scanningString.

     }

}
13. Just use the first development test development certificate and development certificate description document (no push certificate required), but please remember to select the Pushnotification function on the development tool.

14. After publishing, you just need to use the certificate and publish the certificate description file (no publishing required).

15. If you use a third-party email push service, you usually need to upload a PEM type file.


This file requires the use of a "Development Push Certificate" and a "Push Delivery Certificate". The operation is as follows: a. Develop and promote the promotion certificate of P12 file, and publish the P12 file certificate, which can be placed directly on the desktop. B. Open the application "Terminal", enter CDDESKTOP, and run the command:


OpenSSLPKCS12-CLCERTS-NOKEY-OUT will generate the certificate file. PEM-I development certificate or release push certificate file.p12, enter the password after entering the input bus (the password entered when exporting the P12 file), when the password is entered, it means input, and after the input is completed, enter the car.